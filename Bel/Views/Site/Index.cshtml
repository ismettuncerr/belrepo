
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet">
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script>

<!-- include summernote css/js -->
<link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.css" rel="stylesheet">
<script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.js"></script>

<section class="banner-area relative about-banner" id="home">
    <div class="overlay overlay-bg"></div>
    <div class="container">
        <div class="row d-flex align-items-center justify-content-center">
            <div class="about-content col-lg-12">
                <h1 class="text-white">
                    Site Yönetimi
                </h1>

            </div>
        </div>
    </div>
</section>
<section class="course-details-area pt-0">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 left-contents">
                <div class="jq-tab-wrapper" id="horizontalTab">
                    <div class="jq-tab-menu">
                        <div class="jq-tab-title active" data-tab="1">Hakkımızda</div>
                        <div class="jq-tab-title" data-tab="3">İletişim</div>
                    </div>
                    <div class="jq-tab-content-wrapper">
                        <div class="jq-tab-content active" data-tab="1">                            
                            <form action="/Site/SaveAbout" method="post" enctype="multipart/form-data">
                                <div class="wrap-input100 validate-input m-b-26" data-validate="Username is required">
                                    <span class="label-input100"></span>
                                    <span class="focus-input100"></span>
                                    <div class="form-select" id="service-select">
                                        <select id="ContentType" name="ContentType">
                                            <option value="1">HAKKIMIZDA</option>
                                            <option value="2">DENEY İSTASYONLARI</option>
                                            <option value="3">BİLİM İNSANLARI SERGİSİ</option>
                                            <option value="4">BOTANİK ATÖLYESİ</option>
                                            <option value="5">ATÖLYE ÇALIŞMALARI</option>
                                            <option value="6">PLANETARYUM (GÖK EVİ)</option>
                                            <option value="7">8D SİMÜLATÖR</option>
                                            <option value="8">TELESKOP İLE GÖKYÜZÜ GÖZLEMİ</option>
                                            <option value="9">BİLİM MERKEZİNDE DERS</option>
                                            <option value="10">EVDE BİLİM</option>
                                            <option value="11">SCRATCH, ARDUİNO, ROBOT VE DRONE EĞİTİMLERİ</option>
                                            <option value="12">BİLİM MERKEZİ</option>
                                            <option value="13">BELEDİYE BAŞKANININ MESAJI</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Password is required">
                                    <input id="Header" class="input100" type="text" name="Header" placeholder="MENÜ BAŞLIĞI" value="@Model.about.Header" />
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Password is required">
                                    <textarea id="AboutDetail" name="AboutDetail">@Model.about.AboutDetail</textarea>
                                </div>
                                <div class="container-login100-form-btn">
                                    <button type="submit" class="login100-form-btn">Kaydet</button>
                                </div>
                            </form>
                        </div>
                        <div class="jq-tab-content" data-tab="3">                            
                            <form class="login100-form validate-form" action="/Site/SaveContact" method="post" enctype="multipart/form-data">
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Haber Başlığı">
                                    <span class="label-input100">İl/İlçe</span>
                                    <input class="input100" type="text" name="CityState" value="@Model.contact.CityState" placeholder="İl/İlçe">
                                    <span class="focus-input100"></span>
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Haber Başlığı">
                                    <span class="label-input100">Adres</span>
                                    <textarea class="input100" id="Address" maxlength="1000" name="Address">@Model.contact.Address</textarea>
                                    <span class="focus-input100"></span>
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Haber Başlığı">
                                    <span class="label-input100">Telefon</span>
                                    <input class="input100" type="tel" name="Phone" value="@Model.contact.Phone" pattern="[0-9]{4}[0-9]{3}[0-9]{4}" maxlength="12" placeholder="02121234567">
                                    <span class="focus-input100"></span>
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Password is required">
                                    <span class="label-input100">Telefon Açıklama</span>
                                    <textarea class="input100" id="PhoneDescription" maxlength="50" name="PhoneDescription">@Model.contact.PhoneDescription</textarea>
                                    <span class="focus-input100"></span>
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Haber Başlığı">
                                    <span class="label-input100">Email</span>
                                    <input class="input100" type="email" name="Email" value="@Model.contact.Email" maxlength="50" placeholder="a@a.com">
                                    <span class="focus-input100"></span>
                                </div>
                                <div class="wrap-input100 validate-input m-b-18" data-validate="Password is required">
                                    <span class="label-input100">Mail Açıklama</span>
                                    <textarea class="input100" id="EMailDescription" maxlength="50" name="EMailDescription">@Model.contact.EMailDescription</textarea>
                                    <span class="focus-input100"></span>
                                </div>
                                <div class="container-login100-form-btn">
                                    <button type="submit" class="login100-form-btn">Kaydet</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<br />
<br />
<br />

<script>
    $(document).ready(function () {
        $("#service-select").click(function () {          
            $(".panel-heading").css('z-index', 1);            
        });
        $("#service-select").change(function () {
            GetContent($("#ContentType").val());
        });
        function GetContent(contentType) {
            $.ajax({
                url: '/Site/GetContent',
                type: 'POST',
                data: { 'ContentType': contentType },
                success: function (results) {
                    var data = JSON.parse(results);
                    $('#AboutDetail').html(data.AboutDetail);
                    $('.note-editable').html(data.AboutDetail);
                    $('#Header').val(data.Header);

                    /*$('#AboutDetail').summernote({
                        oninit: function () {
                            $('#AboutDetail').attr('data-bind', 'html: Description');
                        }
                    });  
                    /*var postlink = "";
                    var taksitadedi = "";
                    results = results.split("_");
                    taksitadedi = results[0];
                    postlink = results[1];
                    var options = '';
                    for (var x = 1; x <= taksitadedi; x++) {
                        options += '<option value="0' + x + '">' + x + " Taksit" + '</option>';
                    }
                    $('#taksitsec').html(options);
                    document.getElementById("BankId").value = postlink;*/
                },
                error: function () {
                    alert('hata');
                }
            });
            return true
        }
        
        $('#AboutDetail').summernote({
            toolbar: [
                // [groupName, [list of button]]
                ['fontname', ['fontname']],
                ['style', ['style']],
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough', 'superscript', 'subscript']],
                ['fontsize', ['fontsize']],
                ['para', ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull']],
                ['color', ['color']],
                ['insert', ['link']],
                ['view', ['fullscreen', 'codeview', 'help']],
                ['height', ['height']],
                ['table', ['table']],
                ['para', ['ul', 'paragraph']],
            ],
            placeholder: 'Hakkımızda',
            tabsize: 2,
            height: 300
        });
    });
</script>


